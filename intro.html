<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; Torii-HDL 0.1.dev1315 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/styles.css" type="text/css" />
      <link rel="stylesheet" href="_static/platformpicker.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/styles.css" type="text/css" />
    <link rel="canonical" href="https://shrine-maiden-heavy-industries.github.io/torii-hdl/intro.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/platformpicker.js"></script>
        <script src="_static/wavedrom.skin.js"></script>
        <script src="_static/wavedrom.min.js"></script>
        <script src="_static/js/mermaid.min.js"></script>
        <script src="_static/js/wavedrom.min.js"></script>
        <script src="_static/js/wavedrom.skin.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="Language &amp; toolchain" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="cover.html" class="icon icon-home"> Torii-HDL
          </a>
              <div class="version">
                0.1.dev1315+gee7dd7f
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Language &amp; toolchain</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-torii-language">The Torii language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-torii-standard-library">The Torii standard library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-torii-simulator">The Torii simulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-torii-build-system">The Torii build system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fpga-toolchain-integration">FPGA toolchain integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#development-board-definitions">Development board definitions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#system-requirements">System requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installing-prerequisites">Installing prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installing-torii">Installing Torii</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#latest-release">Latest release</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#development-snapshot">Development snapshot</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#editable-development-snapshot">Editable development snapshot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installing-board-definitions">Installing board definitions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="start.html">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="start.html#a-counter">A counter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="start.html#implementing-a-counter">Implementing a counter</a></li>
<li class="toctree-l4"><a class="reference internal" href="start.html#testing-a-counter">Testing a counter</a></li>
<li class="toctree-l4"><a class="reference internal" href="start.html#converting-a-counter">Converting a counter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="start.html#a-blinking-led">A blinking LED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="lang.html">Language guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lang.html#the-prelude">The prelude</a></li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#values">Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#constants">Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#shapes">Shapes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lang.html#shapes-of-values">Shapes of values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#shape-casting">Shape casting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lang.html#shapes-from-integers">Shapes from integers</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#shapes-from-ranges">Shapes from ranges</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#shapes-from-enumerations">Shapes from enumerations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#value-casting">Value casting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lang.html#values-from-integers">Values from integers</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#values-from-enumeration-members">Values from enumeration members</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#signals">Signals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lang.html#signal-shapes">Signal shapes</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#signal-names">Signal names</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#initial-signal-values">Initial signal values</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#reset-less-signals">Reset-less signals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#operators">Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lang.html#performing-or-describing-computations">Performing or describing computations?</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#width-extension">Width extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#arithmetic-operators">Arithmetic operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#comparison-operators">Comparison operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#bitwise-shift-and-rotate-operators">Bitwise, shift, and rotate operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#reduction-operators">Reduction operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#logical-operators">Logical operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#bit-sequence-operators">Bit sequence operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#conversion-operators">Conversion operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#choice-operator">Choice operator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lang.html#modules">Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lang.html#control-domains">Control domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#assigning-to-signals">Assigning to signals</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#assignment-targets">Assignment targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#assignment-domains">Assignment domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#assignment-order">Assignment order</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#control-structures">Control structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#active-and-inactive-assignments">Active and inactive assignments</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#combinatorial-evaluation">Combinatorial evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="lang.html#synchronous-evaluation">Synchronous evaluation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="stdlib.html">Standard library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stdlib/coding.html">Code conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stdlib/coding.html#one-hot-coding">One-hot coding</a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/coding.html#priority-coding">Priority coding</a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/coding.html#gray-coding">Gray coding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stdlib/cdc.html">Clock domain crossing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stdlib/cdc.html#torii.lib.cdc.FFSynchronizer"><code class="docutils literal notranslate"><span class="pre">FFSynchronizer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/cdc.html#torii.lib.cdc.AsyncFFSynchronizer"><code class="docutils literal notranslate"><span class="pre">AsyncFFSynchronizer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/cdc.html#torii.lib.cdc.ResetSynchronizer"><code class="docutils literal notranslate"><span class="pre">ResetSynchronizer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/cdc.html#torii.lib.cdc.PulseSynchronizer"><code class="docutils literal notranslate"><span class="pre">PulseSynchronizer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stdlib/fifo.html">First-in first-out queues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stdlib/fifo.html#torii.lib.fifo.FIFOInterface"><code class="docutils literal notranslate"><span class="pre">FIFOInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/fifo.html#torii.lib.fifo.SyncFIFO"><code class="docutils literal notranslate"><span class="pre">SyncFIFO</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/fifo.html#torii.lib.fifo.SyncFIFOBuffered"><code class="docutils literal notranslate"><span class="pre">SyncFIFOBuffered</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/fifo.html#torii.lib.fifo.AsyncFIFO"><code class="docutils literal notranslate"><span class="pre">AsyncFIFO</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="stdlib/fifo.html#torii.lib.fifo.AsyncFIFOBuffered"><code class="docutils literal notranslate"><span class="pre">AsyncFIFOBuffered</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="platform.html">Platform integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="platform/intel.html">Intel</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/lattice-ecp5.html">Lattice ECP5</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/lattice-ice40.html">Lattice iCE40</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/lattice-machxo-2-3l.html">Lattice MachXO2 and MachXO3L</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/quicklogic.html">Quicklogic</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/xilinx.html">Xilinx</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changes.html">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changes.html#next-version">Next version</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changes.html#toolchain-changes">Toolchain changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="changes.html#platform-integration-changes">Platform integration changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changes.html#version-0-3">Version 0.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changes.html#migrating-from-version-0-2">Migrating from version 0.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="changes.html#language-changes">Language changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="changes.html#standard-library-changes">Standard library changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="changes.html#id1">Toolchain changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="changes.html#id2">Platform integration changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changes.html#versions-0-1-0-2">Versions 0.1, 0.2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://torii-lang.org/docs/torii-boards/latest/">Board definitions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="cover.html">Torii-HDL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="cover.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Language &amp; toolchain</a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h1>
<p>The Torii project provides an open-source toolchain for developing hardware based on synchronous digital logic using the Python programming language. It aims to be easy to learn and use, reduce or eliminate common coding mistakes, and simplify the design of complex hardware with reusable components.</p>
<p>The Torii toolchain consists of the <a class="reference internal" href="#intro-lang"><span class="std std-ref">Torii language</span></a>, the <a class="reference internal" href="#intro-stdlib"><span class="std std-ref">standard library</span></a>, the <a class="reference internal" href="#intro-sim"><span class="std std-ref">simulator</span></a>, and the <a class="reference internal" href="#intro-build"><span class="std std-ref">build system</span></a>, covering all steps of a typical FPGA development workflow. At the same time, it does not restrict the designer’s choice of tools: existing industry-standard (System)Verilog or VHDL code can be integrated into an Torii-based design flow, or, conversely, Torii code can be integrated into an existing Verilog-based design flow.</p>
<section id="the-torii-language">
<span id="intro-lang"></span><h2>The Torii language<a class="headerlink" href="#the-torii-language" title="Permalink to this heading"></a></h2>
<p>The <a class="reference internal" href="lang.html"><span class="doc">Torii hardware description language</span></a> is a Python library for register transfer level modeling of synchronous logic. Ordinary Python code is used to construct a netlist of a digital circuit, which can be simulated, directly synthesized via <a class="reference external" href="https://yosyshq.net/yosys/">Yosys</a>, or converted to human-readable Verilog code for use with industry-standard toolchains.</p>
<p>By relying on the flexibility, rich functionality and widespread adoption of the Python language, the Torii language is focused on a single task: modeling digital logic well. It has first-class support for building blocks like clock domains and finite state machines, and uses simple rules for arithmetic operations that closely match the Python semantics. Python classes, functions, loops and conditionals can be used to build organized and flexible designs; Python libraries can be seamlessly used with Torii during design or verification; and Python development tools can process Torii code.</p>
<p>A core design principle of the Torii language is to be not only easy to use, but also hard to accidentally misuse. Some HDLs provide functionality that has unexpected and undesirable behavior in synthesis, often with expensive consequences, and require a significant effort in learning a “safe” coding style and adopting third-party linting tools. Torii lacks non-synthesizable constructs and avoids error-prone inference in favor of explicit instantiation. It has many diagnostics (and regularly adds new ones) highlighting potential design issues. Most importantly, all usability issues are considered <a class="reference external" href="https://github.com/torii-lang/torii/issues">reportable bugs</a>.</p>
</section>
<section id="the-torii-standard-library">
<span id="intro-stdlib"></span><h2>The Torii standard library<a class="headerlink" href="#the-torii-standard-library" title="Permalink to this heading"></a></h2>
<p>The Torii language comes with a standard library—a collection of essential digital design components and interfaces. It includes clock domain crossing primitives, synchronous and asynchronous FIFOs, a flexible I/O buffer interface, and more. By providing reliable building blocks out of the box, Torii allows the designer to focus on their application and avoids subtle differences in behavior between different designs.</p>
<p>Clock domain crossing often requires special treatment, such as using vendor-defined attributes or instantiating device-specific primitives. The CDC primitives in the Torii standard library can be overridden by the platform integration, and every platform integration included with Torii follows the vendor recommendations for CDC.</p>
<p>High-speed designs usually require the use of registered (and sometimes, geared) I/O buffers. The Torii standard library provides a common interface to be used between I/O buffers and peripheral implementations. The Torii build system, if used, can instantiate I/O buffers for every platform integration included with Torii.</p>
<p>While many designs will use at least some vendor-specific functionality, the components provided by the Torii standard library reduce the amount of code that needs to be changed when migrating between FPGA families, and the common interfaces simplify peripherals, test benches and simulations.</p>
<p>The Torii standard library is optional: the Torii language can be used without it. Conversely, it is possible to use the Torii standard library components in Verilog or VHDL code, with some limitations.</p>
</section>
<section id="the-torii-simulator">
<span id="intro-sim"></span><h2>The Torii simulator<a class="headerlink" href="#the-torii-simulator" title="Permalink to this heading"></a></h2>
<p>The Torii project includes an advanced simulator for Torii code implemented in Python with no system dependencies; in this simulator, test benches are written as Python generator functions. Of course, it is always possible to convert an Torii design to Verilog for use with well-known tool like <a class="reference external" href="http://iverilog.icarus.com/">Icarus Verilog</a> or <a class="reference external" href="https://www.veripool.org/wiki/verilator">Verilator</a>.</p>
<p>The Torii simulator is event-driven and can simulate designs with multiple clocks or asynchronous resets. Although it is slower than <a class="reference external" href="http://iverilog.icarus.com/">Icarus Verilog</a>, it compiles the netlist to Python code ahead of time, achieving remarkably high performance for a pure Python implementation—especially when running on <a class="reference external" href="https://www.pypy.org/">PyPy</a>.</p>
<p>Although Torii does not support native code simulation or co-simulation at the moment, such support will be added in near future.</p>
</section>
<section id="the-torii-build-system">
<span id="intro-build"></span><h2>The Torii build system<a class="headerlink" href="#the-torii-build-system" title="Permalink to this heading"></a></h2>
<p>To achieve an end-to-end FPGA development workflow, the Torii project integrates with all major FPGA toolchains and provides definitions for many common development boards.</p>
<section id="fpga-toolchain-integration">
<h3>FPGA toolchain integration<a class="headerlink" href="#fpga-toolchain-integration" title="Permalink to this heading"></a></h3>
<p>Each FPGA family requires the use of synthesis and place &amp; route tools specific for that device family. The Torii build system directly integrates with every major open-source and commercial FPGA toolchain, and can be easily extended to cover others.</p>
<p>Through this integration, Torii can specialize the CDC primitives and I/O buffers for a particular device and toolchain; generate I/O and clock constraints from board definition files; synchronize the power-on reset in single-clock designs; include (System)Verilog and VHDL files in the design (if supported by the toolchain); and finally, generate a script running synthesis, placement, routing, and timing analysis. The generated code can be customized to insert additional options, commands, constraints, and so on.</p>
<p>The Torii build system produces self-contained, portable build trees that require only the toolchain to be present in the environment. This makes builds easier to reproduce, or to run on a remote machine. The generated build scripts are always provided for both *nix and Windows.</p>
</section>
<section id="development-board-definitions">
<h3>Development board definitions<a class="headerlink" href="#development-board-definitions" title="Permalink to this heading"></a></h3>
<p>Getting started with a new FPGA development board often requires going through a laborous and error-prone process of deriving toolchain configuration and constraint files from the supplied documentation. The Torii project includes a community-maintained repository of definitions for many open-source and commercial FPGA development boards.</p>
<p>These board definitions contain everything that is necessary to start using the board: FPGA family and model, clocks and resets, descriptions of on-board peripherals (including pin direction and attributes such as I/O standard), connector pinouts, and for boards with a built-in debug probe, the steps required to program the board. It takes a single Python invocation to generate, build, and download a test design that shows whether the board, toolchain, and programmer are working correctly.</p>
<p>Torii establishes a pin naming convention for many common peripherals (such as 7-segment displays, SPI flashes and SDRAM memories), enabling the reuse of unmodified interface code with many different boards. Further, the polarity of all control signals is unified to be active high, eliminating accidental polarity inversions and making simulation traces easier to follow; active low signals are inverted during I/O buffer instantiation.</p>
</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Language &amp; toolchain" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Shrine Maiden Heavy Industries.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>